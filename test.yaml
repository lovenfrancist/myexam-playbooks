---
- name: Create new post
  hosts: localhost
  remote_user: root
  gather_facts: yes
  connection: ssh
  pre_tasks:
    - name: Initialize jekyll project name
      set_fact:
        jekyll_project_name: "lovenfrancist.github.io"

    - name: Initialize jekyll project path
      set_fact:
        jekyll_project_path: "{{ playbook_dir.split('/')[0:-1]|join('/') }}/{{ jekyll_project_name }}"

  tasks:
    - debug: msg="jekyll_project_path:{{ jekyll_project_path }}"
  #
  #   - include_role:
  #       name: jekyll
  #       tasks_from: add_post
  #     vars:
  #       post_date: "{{ ansible_date_time.date }}"
  #       jekyll_project_path: "{{ jekyll_project_path }}"
